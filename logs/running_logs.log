[2024-03-26 08:36:42,517: INFO: main: Welcome to our custom log]
[2024-03-26 08:39:15,045: INFO: main: Welcome to our custom log]
[2024-04-02 07:57:09,391: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-04-02 07:59:26,719: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-04-02 07:59:54,087: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-04-02 08:01:09,396: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-04-02 08:01:09,399: INFO: common: yaml file: params.yaml loaded successfully]
[2024-04-02 08:01:09,402: INFO: common: created directory at: artifacts]
[2024-04-02 08:01:09,408: INFO: common: created directory at: artifacts/data_ingestion]
[2024-04-02 08:01:09,412: INFO: 3625028615: Downloaded data from https://drive.google.com/file/d/1vlhZ5c7abUKF8xXERIw6m9Te8fW7ohw3/view?usp=sharing into file artifacts/data_ingestion/data.zip]
[2024-04-02 08:01:32,097: INFO: 3625028615: Downloaded data from https://drive.google.com/file/d/1vlhZ5c7abUKF8xXERIw6m9Te8fW7ohw3/view?usp=sharing into file artifacts/data_ingestion/data.zip]
[2024-04-02 08:48:41,284: INFO: main: >>>>>> stage Data Ingestion stage started <<<<<<]
[2024-04-02 08:48:41,289: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-04-02 08:48:41,290: INFO: common: yaml file: params.yaml loaded successfully]
[2024-04-02 08:48:41,291: INFO: common: created directory at: artifacts]
[2024-04-02 08:48:41,291: INFO: common: created directory at: artifacts/data_ingestion]
[2024-04-02 08:48:41,292: INFO: data_ingestion: Downloaded data from https://drive.google.com/file/d/1vlhZ5c7abUKF8xXERIw6m9Te8fW7ohw3/view?usp=sharing into file artifacts/data_ingestion/data.zip]
[2024-04-02 08:49:13,758: INFO: data_ingestion: Downloaded data from https://drive.google.com/file/d/1vlhZ5c7abUKF8xXERIw6m9Te8fW7ohw3/view?usp=sharing into file artifacts/data_ingestion/data.zip]
[2024-04-02 08:49:14,604: INFO: main: >>>>>> stage Data Ingestion stage completed <<<<<<

x============x]
[2024-04-02 20:25:44,380: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-04-02 20:25:44,387: INFO: common: yaml file: params.yaml loaded successfully]
[2024-04-02 20:25:44,390: INFO: common: created directory at: artifacts]
[2024-04-02 20:25:44,391: INFO: common: created directory at: artifacts/prepare_base_model]
[2024-04-02 20:25:48,332: WARNING: saving_utils: Compiled the loaded model, but the compiled metrics have yet to be built. `model.compile_metrics` will be empty until you train or evaluate the model.]
[2024-04-02 22:26:07,229: INFO: main: >>>>>> stage Data Ingestion stage started <<<<<<]
[2024-04-02 22:26:07,233: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-04-02 22:26:07,238: INFO: common: yaml file: params.yaml loaded successfully]
[2024-04-02 22:26:07,239: INFO: common: created directory at: artifacts]
[2024-04-02 22:26:07,240: INFO: common: created directory at: artifacts/data_ingestion]
[2024-04-02 22:26:07,241: INFO: data_ingestion: Downloaded data from https://drive.google.com/file/d/1vlhZ5c7abUKF8xXERIw6m9Te8fW7ohw3/view?usp=sharing into file artifacts/data_ingestion/data.zip]
[2024-04-02 22:26:11,980: INFO: data_ingestion: Downloaded data from https://drive.google.com/file/d/1vlhZ5c7abUKF8xXERIw6m9Te8fW7ohw3/view?usp=sharing into file artifacts/data_ingestion/data.zip]
[2024-04-02 22:26:12,637: INFO: main: >>>>>> stage Data Ingestion stage completed <<<<<<

x============x]
[2024-04-02 22:26:12,638: INFO: main: **************************]
[2024-04-02 22:26:12,638: INFO: main: >>>>>> stage Prepare base model started <<<<<<]
[2024-04-02 22:26:12,643: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-04-02 22:26:12,646: INFO: common: yaml file: params.yaml loaded successfully]
[2024-04-02 22:26:12,647: INFO: common: created directory at: artifacts]
[2024-04-02 22:26:12,649: INFO: common: created directory at: artifacts/prepare_base_model]
[2024-04-02 22:26:14,954: WARNING: saving_utils: Compiled the loaded model, but the compiled metrics have yet to be built. `model.compile_metrics` will be empty until you train or evaluate the model.]
[2024-04-02 22:26:15,207: INFO: main: >>>>>> stage Prepare base model completed <<<<<<

x==============x]
[2024-04-06 10:58:04,093: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-04-06 10:58:04,104: INFO: common: yaml file: params.yaml loaded successfully]
[2024-04-06 10:58:04,107: INFO: common: created directory at: artifacts]
[2024-04-06 10:58:04,109: INFO: common: created directory at: artifacts\training]
[2024-04-06 11:05:32,983: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-04-06 11:05:32,989: INFO: common: yaml file: params.yaml loaded successfully]
[2024-04-06 11:05:32,992: INFO: common: created directory at: artifacts]
[2024-04-06 11:05:32,995: INFO: common: created directory at: artifacts\training]
[2024-04-06 11:06:22,765: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-04-06 11:06:22,788: INFO: common: yaml file: params.yaml loaded successfully]
[2024-04-06 11:06:22,796: INFO: common: created directory at: artifacts]
[2024-04-06 11:06:22,800: INFO: common: created directory at: artifacts\training]
[2024-04-06 11:08:41,962: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-04-06 11:08:41,974: INFO: common: yaml file: params.yaml loaded successfully]
[2024-04-06 11:08:41,983: INFO: common: created directory at: artifacts]
[2024-04-06 11:08:41,985: INFO: common: created directory at: artifacts\training]
[2024-04-06 11:16:50,087: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-04-06 11:16:50,095: INFO: common: yaml file: params.yaml loaded successfully]
[2024-04-06 11:16:50,097: INFO: common: created directory at: artifacts]
[2024-04-06 11:16:50,099: INFO: common: created directory at: artifacts\training]
[2024-04-06 11:16:59,951: WARNING: polymorphic_function: 5 out of the last 18 calls to <function Model.make_train_function.<locals>.train_function at 0x00000292944DFDC0> triggered tf.function retracing. Tracing is expensive and the excessive number of tracings could be due to (1) creating @tf.function repeatedly in a loop, (2) passing tensors with different shapes, (3) passing Python objects instead of tensors. For (1), please define your @tf.function outside of the loop. For (2), @tf.function has reduce_retracing=True option that can avoid unnecessary retracing. For (3), please refer to https://www.tensorflow.org/guide/function#controlling_retracing and https://www.tensorflow.org/api_docs/python/tf/function for  more details.]
[2024-04-06 11:19:13,394: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-04-06 11:19:13,405: INFO: common: yaml file: params.yaml loaded successfully]
[2024-04-06 11:19:13,410: INFO: common: created directory at: artifacts]
[2024-04-06 11:19:13,415: INFO: common: created directory at: artifacts\training]
[2024-04-06 11:22:22,953: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-04-06 11:22:22,967: INFO: common: yaml file: params.yaml loaded successfully]
[2024-04-06 11:22:22,970: INFO: common: created directory at: artifacts]
[2024-04-06 11:22:22,975: INFO: common: created directory at: artifacts\training]
[2024-04-06 11:25:34,630: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-04-06 11:25:34,642: INFO: common: yaml file: params.yaml loaded successfully]
[2024-04-06 11:25:34,646: INFO: common: created directory at: artifacts]
[2024-04-06 11:25:34,649: INFO: common: created directory at: artifacts\training]
[2024-04-06 14:14:27,882: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-04-06 14:14:27,893: INFO: common: yaml file: params.yaml loaded successfully]
[2024-04-06 14:14:27,900: INFO: common: created directory at: artifacts]
[2024-04-06 14:14:27,905: INFO: common: created directory at: artifacts\training]
[2024-04-06 14:14:56,483: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-04-06 14:14:56,488: INFO: common: yaml file: params.yaml loaded successfully]
[2024-04-06 14:14:56,490: INFO: common: created directory at: artifacts]
[2024-04-06 14:14:56,492: INFO: common: created directory at: artifacts\training]
[2024-04-06 14:15:01,838: WARNING: polymorphic_function: 6 out of the last 20 calls to <function Model.make_train_function.<locals>.train_function at 0x000002928FDFDCA0> triggered tf.function retracing. Tracing is expensive and the excessive number of tracings could be due to (1) creating @tf.function repeatedly in a loop, (2) passing tensors with different shapes, (3) passing Python objects instead of tensors. For (1), please define your @tf.function outside of the loop. For (2), @tf.function has reduce_retracing=True option that can avoid unnecessary retracing. For (3), please refer to https://www.tensorflow.org/guide/function#controlling_retracing and https://www.tensorflow.org/api_docs/python/tf/function for  more details.]
[2024-04-06 15:02:31,145: INFO: main: >>>>>> stage Data Ingestion stage started <<<<<<]
[2024-04-06 15:02:31,151: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-04-06 15:02:31,155: INFO: common: yaml file: params.yaml loaded successfully]
[2024-04-06 15:02:31,156: INFO: common: created directory at: artifacts]
[2024-04-06 15:02:31,156: INFO: common: created directory at: artifacts/data_ingestion]
[2024-04-06 15:02:31,157: INFO: data_ingestion: Downloaded data from https://drive.google.com/file/d/1vlhZ5c7abUKF8xXERIw6m9Te8fW7ohw3/view?usp=sharing into file artifacts/data_ingestion/data.zip]
[2024-04-06 15:03:12,221: INFO: data_ingestion: Downloaded data from https://drive.google.com/file/d/1vlhZ5c7abUKF8xXERIw6m9Te8fW7ohw3/view?usp=sharing into file artifacts/data_ingestion/data.zip]
[2024-04-06 15:03:12,689: INFO: main: >>>>>> stage Data Ingestion stage completed <<<<<<

x============x]
[2024-04-06 15:03:12,689: INFO: main: **************************]
[2024-04-06 15:03:12,690: INFO: main: >>>>>> stage Prepare base model started <<<<<<]
[2024-04-06 15:03:12,694: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-04-06 15:03:12,696: INFO: common: yaml file: params.yaml loaded successfully]
[2024-04-06 15:03:12,697: INFO: common: created directory at: artifacts]
[2024-04-06 15:03:12,698: INFO: common: created directory at: artifacts/prepare_base_model]
[2024-04-06 15:03:13,663: WARNING: saving_utils: Compiled the loaded model, but the compiled metrics have yet to be built. `model.compile_metrics` will be empty until you train or evaluate the model.]
[2024-04-06 15:03:13,910: INFO: main: >>>>>> stage Prepare base model completed <<<<<<

x==============x]
[2024-04-06 15:03:13,912: INFO: main: **********************]
[2024-04-06 15:03:13,913: INFO: main: >>>>>> stage Training started <<<<<<]
[2024-04-06 15:03:13,915: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-04-06 15:03:13,917: INFO: common: yaml file: params.yaml loaded successfully]
[2024-04-06 15:03:13,918: INFO: common: created directory at: artifacts]
[2024-04-06 15:03:13,919: INFO: common: created directory at: artifacts\training]
[2024-04-06 15:04:54,322: INFO: main: >>>>>> stage Training completed <<<<<<

x==============x]
[2024-04-15 08:38:39,091: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-04-15 08:38:39,100: INFO: common: yaml file: params.yaml loaded successfully]
[2024-04-15 08:38:39,103: INFO: common: created directory at: artifacts]
[2024-04-15 08:39:17,889: WARNING: save: Found untraced functions such as _jit_compiled_convolution_op, _jit_compiled_convolution_op, _jit_compiled_convolution_op, _jit_compiled_convolution_op, _jit_compiled_convolution_op while saving (showing 5 of 14). These functions will not be directly callable after loading.]
[2024-04-15 08:39:18,816: INFO: builder_impl: Assets written to: C:\Users\TIMEFO~1\AppData\Local\Temp\tmp7dg840g4\model\data\model\assets]
[2024-04-17 08:42:16,112: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-04-17 08:42:16,118: INFO: common: yaml file: params.yaml loaded successfully]
[2024-04-17 08:42:16,121: INFO: common: created directory at: artifacts]
[2024-04-17 08:42:57,396: INFO: common: json file saved at: scores.json]
[2024-04-17 08:43:01,570: WARNING: save: Found untraced functions such as _jit_compiled_convolution_op, _jit_compiled_convolution_op, _jit_compiled_convolution_op, _jit_compiled_convolution_op, _jit_compiled_convolution_op while saving (showing 5 of 14). These functions will not be directly callable after loading.]
[2024-04-17 08:43:03,294: INFO: builder_impl: Assets written to: C:\Users\TIMEFO~1\AppData\Local\Temp\tmp0hslybq5\model\data\model\assets]
[2024-04-17 08:45:08,332: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-04-17 08:45:08,338: INFO: common: yaml file: params.yaml loaded successfully]
[2024-04-17 08:45:08,340: INFO: common: created directory at: artifacts]
[2024-04-17 08:45:46,008: INFO: common: json file saved at: scores.json]
[2024-04-17 08:45:49,543: WARNING: save: Found untraced functions such as _jit_compiled_convolution_op, _jit_compiled_convolution_op, _jit_compiled_convolution_op, _jit_compiled_convolution_op, _jit_compiled_convolution_op while saving (showing 5 of 14). These functions will not be directly callable after loading.]
[2024-04-17 08:45:50,544: INFO: builder_impl: Assets written to: C:\Users\TIMEFO~1\AppData\Local\Temp\tmprh_k2jxb\model\data\model\assets]
[2024-05-24 09:11:51,455: INFO: main: >>>>>> stage Data Ingestion stage started <<<<<<]
[2024-05-24 09:11:51,458: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-05-24 09:11:51,460: INFO: common: yaml file: params.yaml loaded successfully]
[2024-05-24 09:11:51,461: INFO: common: created directory at: artifacts]
[2024-05-24 09:11:51,463: INFO: common: created directory at: artifacts/data_ingestion]
[2024-05-24 09:11:51,469: INFO: data_ingestion: Downloaded data from https://drive.google.com/file/d/1vlhZ5c7abUKF8xXERIw6m9Te8fW7ohw3/view?usp=sharing into file artifacts/data_ingestion/data.zip]
[2024-05-24 09:38:53,025: INFO: main: >>>>>> stage Data Ingestion stage started <<<<<<]
[2024-05-24 09:38:53,029: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-05-24 09:38:53,031: INFO: common: yaml file: params.yaml loaded successfully]
[2024-05-24 09:38:53,031: INFO: common: created directory at: artifacts]
[2024-05-24 09:38:53,032: INFO: common: created directory at: artifacts/data_ingestion]
[2024-05-24 09:38:53,032: INFO: data_ingestion: Downloaded data from https://drive.google.com/file/d/1vlhZ5c7abUKF8xXERIw6m9Te8fW7ohw3/view?usp=sharing into file artifacts/data_ingestion/data.zip]
[2024-05-24 09:43:01,425: ERROR: main: ("Connection broken: ConnectionAbortedError(10053, 'ÄãµÄÖ÷»úÖÐµÄÈí¼þÖÐÖ¹ÁËÒ»¸öÒÑ½¨Á¢µÄÁ¬½Ó¡£', None, 10053, None)", ConnectionAbortedError(10053, 'ÄãµÄÖ÷»úÖÐµÄÈí¼þÖÐÖ¹ÁËÒ»¸öÒÑ½¨Á¢µÄÁ¬½Ó¡£', None, 10053, None))]
Traceback (most recent call last):
  File "D:\anaconda3\envs\kidney\lib\site-packages\urllib3\response.py", line 737, in _error_catcher
    yield
  File "D:\anaconda3\envs\kidney\lib\site-packages\urllib3\response.py", line 862, in _raw_read
    data = self._fp_read(amt, read1=read1) if not fp_closed else b""
  File "D:\anaconda3\envs\kidney\lib\site-packages\urllib3\response.py", line 845, in _fp_read
    return self._fp.read(amt) if amt is not None else self._fp.read()
  File "D:\anaconda3\envs\kidney\lib\http\client.py", line 459, in read
    n = self.readinto(b)
  File "D:\anaconda3\envs\kidney\lib\http\client.py", line 503, in readinto
    n = self.fp.readinto(b)
  File "D:\anaconda3\envs\kidney\lib\socket.py", line 669, in readinto
    return self._sock.recv_into(b)
  File "D:\anaconda3\envs\kidney\lib\ssl.py", line 1274, in recv_into
    return self.read(nbytes, buffer)
  File "D:\anaconda3\envs\kidney\lib\ssl.py", line 1132, in read
    return self._sslobj.read(len, buffer)
ConnectionAbortedError: [WinError 10053] ÄãµÄÖ÷»úÖÐµÄÈí¼þÖÐÖ¹ÁËÒ»¸öÒÑ½¨Á¢µÄÁ¬½Ó¡£

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\anaconda3\envs\kidney\lib\site-packages\requests\models.py", line 816, in generate
    yield from self.raw.stream(chunk_size, decode_content=True)
  File "D:\anaconda3\envs\kidney\lib\site-packages\urllib3\response.py", line 1043, in stream
    data = self.read(amt=amt, decode_content=decode_content)
  File "D:\anaconda3\envs\kidney\lib\site-packages\urllib3\response.py", line 935, in read
    data = self._raw_read(amt)
  File "D:\anaconda3\envs\kidney\lib\site-packages\urllib3\response.py", line 891, in _raw_read
    self._fp.close()
  File "D:\anaconda3\envs\kidney\lib\contextlib.py", line 131, in __exit__
    self.gen.throw(type, value, traceback)
  File "D:\anaconda3\envs\kidney\lib\site-packages\urllib3\response.py", line 764, in _error_catcher
    raise ProtocolError(f"Connection broken: {e!r}", e) from e
urllib3.exceptions.ProtocolError: ("Connection broken: ConnectionAbortedError(10053, 'ÄãµÄÖ÷»úÖÐµÄÈí¼þÖÐÖ¹ÁËÒ»¸öÒÑ½¨Á¢µÄÁ¬½Ó¡£', None, 10053, None)", ConnectionAbortedError(10053, 'ÄãµÄÖ÷»úÖÐµÄÈí¼þÖÐÖ¹ÁËÒ»¸öÒÑ½¨Á¢µÄÁ¬½Ó¡£', None, 10053, None))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "main.py", line 12, in <module>
    obj.main()
  File "d:\pythonproject\kidney-disease-classification-mlflow-dvc\src\cnnClassifier\pipeline\stage_01_data_ingestion.py", line 16, in main
    data_ingestion.download_file()
  File "d:\pythonproject\kidney-disease-classification-mlflow-dvc\src\cnnClassifier\components\data_ingestion.py", line 30, in download_file
    raise e
  File "d:\pythonproject\kidney-disease-classification-mlflow-dvc\src\cnnClassifier\components\data_ingestion.py", line 25, in download_file
    gdown.download(prefix+file_id, zip_download_dir)
  File "D:\anaconda3\envs\kidney\lib\site-packages\gdown\download.py", line 344, in download
    for chunk in res.iter_content(chunk_size=CHUNK_SIZE):
  File "D:\anaconda3\envs\kidney\lib\site-packages\requests\models.py", line 818, in generate
    raise ChunkedEncodingError(e)
requests.exceptions.ChunkedEncodingError: ("Connection broken: ConnectionAbortedError(10053, 'ÄãµÄÖ÷»úÖÐµÄÈí¼þÖÐÖ¹ÁËÒ»¸öÒÑ½¨Á¢µÄÁ¬½Ó¡£', None, 10053, None)", ConnectionAbortedError(10053, 'ÄãµÄÖ÷»úÖÐµÄÈí¼þÖÐÖ¹ÁËÒ»¸öÒÑ½¨Á¢µÄÁ¬½Ó¡£', None, 10053, None))
[2024-05-28 08:39:54,160: INFO: stage_03_model_training: **********************]
[2024-05-28 08:39:54,160: INFO: stage_03_model_training: >>>>>> stage Training started <<<<<<]
[2024-05-28 08:39:54,164: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-05-28 08:39:54,168: INFO: common: yaml file: params.yaml loaded successfully]
[2024-05-28 08:39:54,169: INFO: common: created directory at: artifacts]
[2024-05-28 08:39:54,172: INFO: common: created directory at: artifacts\training]
[2024-05-28 08:42:24,668: INFO: stage_03_model_training: >>>>>> stage Training completed <<<<<<

x==============x]
[2024-05-28 08:43:46,765: INFO: stage_04_model_evaluation: **********************]
[2024-05-28 08:43:46,765: INFO: stage_04_model_evaluation: >>>>>> stage Evaluation stage started <<<<<<]
[2024-05-28 08:43:46,769: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-05-28 08:43:46,771: INFO: common: yaml file: params.yaml loaded successfully]
[2024-05-28 08:43:46,773: INFO: common: created directory at: artifacts]
[2024-05-28 08:44:44,947: INFO: common: json file saved at: scores.json]
[2024-05-28 08:44:48,961: WARNING: save: Found untraced functions such as _jit_compiled_convolution_op, _jit_compiled_convolution_op, _jit_compiled_convolution_op, _jit_compiled_convolution_op, _jit_compiled_convolution_op while saving (showing 5 of 14). These functions will not be directly callable after loading.]
[2024-05-28 08:44:49,916: INFO: builder_impl: Assets written to: C:\Users\TIMEFO~1\AppData\Local\Temp\tmpzg1rx5ff\model\data\model\assets]
[2024-05-28 08:45:10,064: INFO: dir_util: creating D:\PythonProject\kidney-disease-classification-mlflow-dvc\mlruns\0\831c13342f0a47379df6993f5c63a823\artifacts\model\data]
[2024-05-28 08:45:10,072: INFO: dir_util: creating D:\PythonProject\kidney-disease-classification-mlflow-dvc\mlruns\0\831c13342f0a47379df6993f5c63a823\artifacts\model\data\model]
[2024-05-28 08:45:10,073: INFO: dir_util: creating D:\PythonProject\kidney-disease-classification-mlflow-dvc\mlruns\0\831c13342f0a47379df6993f5c63a823\artifacts\model\data\model\assets]
[2024-05-28 08:45:10,083: INFO: dir_util: creating D:\PythonProject\kidney-disease-classification-mlflow-dvc\mlruns\0\831c13342f0a47379df6993f5c63a823\artifacts\model\data\model\variables]
[2024-05-28 08:45:10,240: INFO: stage_04_model_evaluation: >>>>>> stage Evaluation stage completed <<<<<<

x==============x]
[2024-05-29 19:55:07,485: INFO: stage_04_model_evaluation: **********************]
[2024-05-29 19:55:07,488: INFO: stage_04_model_evaluation: >>>>>> stage Evaluation stage started <<<<<<]
[2024-05-29 19:55:07,536: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-05-29 19:55:07,564: INFO: common: yaml file: params.yaml loaded successfully]
[2024-05-29 19:55:07,588: INFO: common: created directory at: artifacts]
[2024-05-29 19:55:52,380: INFO: common: json file saved at: scores.json]
[2024-05-29 19:56:00,131: WARNING: save: Found untraced functions such as _jit_compiled_convolution_op, _jit_compiled_convolution_op, _jit_compiled_convolution_op, _jit_compiled_convolution_op, _jit_compiled_convolution_op while saving (showing 5 of 14). These functions will not be directly callable after loading.]
[2024-05-29 19:56:03,364: INFO: builder_impl: Assets written to: C:\Users\TIMEFO~1\AppData\Local\Temp\tmp9nei6qgi\model\data\model\assets]
[2024-05-29 19:56:41,022: INFO: dir_util: creating D:\PythonProject\kidney-disease-classification-mlflow-dvc\mlruns\0\a0ad0344bdb34f5fb03ceb56dd635aad\artifacts\model\data]
[2024-05-29 19:56:41,025: INFO: dir_util: creating D:\PythonProject\kidney-disease-classification-mlflow-dvc\mlruns\0\a0ad0344bdb34f5fb03ceb56dd635aad\artifacts\model\data\model]
[2024-05-29 19:56:41,027: INFO: dir_util: creating D:\PythonProject\kidney-disease-classification-mlflow-dvc\mlruns\0\a0ad0344bdb34f5fb03ceb56dd635aad\artifacts\model\data\model\assets]
[2024-05-29 19:56:41,033: INFO: dir_util: creating D:\PythonProject\kidney-disease-classification-mlflow-dvc\mlruns\0\a0ad0344bdb34f5fb03ceb56dd635aad\artifacts\model\data\model\variables]
[2024-05-29 19:56:41,173: INFO: stage_04_model_evaluation: >>>>>> stage Evaluation stage completed <<<<<<

x==============x]
[2024-05-29 20:48:40,456: INFO: stage_04_model_evaluation: **********************]
[2024-05-29 20:48:40,457: INFO: stage_04_model_evaluation: >>>>>> stage Evaluation stage started <<<<<<]
[2024-05-29 20:48:40,463: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-05-29 20:48:40,471: INFO: common: yaml file: params.yaml loaded successfully]
[2024-05-29 20:48:40,473: INFO: common: created directory at: artifacts]
[2024-05-29 20:49:25,610: INFO: common: json file saved at: scores.json]
[2024-05-29 20:49:28,532: WARNING: save: Found untraced functions such as _jit_compiled_convolution_op, _jit_compiled_convolution_op, _jit_compiled_convolution_op, _jit_compiled_convolution_op, _jit_compiled_convolution_op while saving (showing 5 of 14). These functions will not be directly callable after loading.]
[2024-05-29 20:49:29,501: INFO: builder_impl: Assets written to: C:\Users\TIMEFO~1\AppData\Local\Temp\tmphjqa06nf\model\data\model\assets]
[2024-05-29 20:49:49,501: INFO: dir_util: creating D:\PythonProject\kidney-disease-classification-mlflow-dvc\mlruns\0\cd1aa0b0f4fa440bae49488ffb5e3cb0\artifacts\model\data]
[2024-05-29 20:49:49,519: INFO: dir_util: creating D:\PythonProject\kidney-disease-classification-mlflow-dvc\mlruns\0\cd1aa0b0f4fa440bae49488ffb5e3cb0\artifacts\model\data\model]
[2024-05-29 20:49:49,522: INFO: dir_util: creating D:\PythonProject\kidney-disease-classification-mlflow-dvc\mlruns\0\cd1aa0b0f4fa440bae49488ffb5e3cb0\artifacts\model\data\model\assets]
[2024-05-29 20:49:49,533: INFO: dir_util: creating D:\PythonProject\kidney-disease-classification-mlflow-dvc\mlruns\0\cd1aa0b0f4fa440bae49488ffb5e3cb0\artifacts\model\data\model\variables]
[2024-05-29 20:49:49,699: INFO: stage_04_model_evaluation: >>>>>> stage Evaluation stage completed <<<<<<

x==============x]
[2024-05-29 20:56:25,922: INFO: stage_04_model_evaluation: **********************]
[2024-05-29 20:56:25,923: INFO: stage_04_model_evaluation: >>>>>> stage Evaluation stage started <<<<<<]
[2024-05-29 20:56:25,926: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-05-29 20:56:25,930: INFO: common: yaml file: params.yaml loaded successfully]
[2024-05-29 20:56:25,932: INFO: common: created directory at: artifacts]
[2024-05-29 20:57:17,202: INFO: common: json file saved at: scores.json]
[2024-05-29 20:57:21,324: WARNING: save: Found untraced functions such as _jit_compiled_convolution_op, _jit_compiled_convolution_op, _jit_compiled_convolution_op, _jit_compiled_convolution_op, _jit_compiled_convolution_op while saving (showing 5 of 14). These functions will not be directly callable after loading.]
[2024-05-29 20:57:22,460: INFO: builder_impl: Assets written to: C:\Users\TIMEFO~1\AppData\Local\Temp\tmpgbtt23dc\model\data\model\assets]
[2024-05-29 20:58:30,118: INFO: stage_04_model_evaluation: >>>>>> stage Evaluation stage completed <<<<<<

x==============x]
[2024-06-03 09:05:47,804: INFO: stage_01_data_ingestion: >>>>>> stage Data Ingestion stage started <<<<<<]
[2024-06-03 09:05:47,805: INFO: common: yaml file: config/config.yaml loaded successfully]
[2024-06-03 09:05:47,806: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 09:05:47,806: INFO: common: created directory at: artifacts]
[2024-06-03 09:05:47,806: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-03 09:05:47,806: INFO: data_ingestion: Downloaded data from https://drive.google.com/file/d/1vlhZ5c7abUKF8xXERIw6m9Te8fW7ohw3/view?usp=sharing into file artifacts/data_ingestion/data.zip]
[2024-06-03 09:05:55,553: INFO: data_ingestion: Downloaded data from https://drive.google.com/file/d/1vlhZ5c7abUKF8xXERIw6m9Te8fW7ohw3/view?usp=sharing into file artifacts/data_ingestion/data.zip]
[2024-06-03 09:05:55,922: INFO: stage_01_data_ingestion: >>>>>> stage Data Ingestion stage completed <<<<<<

x============x]
[2024-06-03 09:12:51,085: INFO: stage_02_prepare_base_model: **************************]
[2024-06-03 09:12:51,085: INFO: stage_02_prepare_base_model: >>>>>> stage Prepare base model started <<<<<<]
[2024-06-03 09:12:51,087: INFO: common: yaml file: config/config.yaml loaded successfully]
[2024-06-03 09:12:51,088: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 09:12:51,088: INFO: common: created directory at: artifacts]
[2024-06-03 09:12:51,088: INFO: common: created directory at: artifacts/prepare_base_model]
[2024-06-03 09:13:02,220: WARNING: saving_utils: Compiled the loaded model, but the compiled metrics have yet to be built. `model.compile_metrics` will be empty until you train or evaluate the model.]
[2024-06-03 09:13:02,288: WARNING: optimizer: At this time, the v2.11+ optimizer `tf.keras.optimizers.SGD` runs slowly on M1/M2 Macs, please use the legacy Keras optimizer instead, located at `tf.keras.optimizers.legacy.SGD`.]
[2024-06-03 09:13:02,291: WARNING: __init__: There is a known slowdown when using v2.11+ Keras optimizers on M1/M2 Macs. Falling back to the legacy Keras optimizer, i.e., `tf.keras.optimizers.legacy.SGD`.]
[2024-06-03 09:13:02,340: INFO: stage_02_prepare_base_model: >>>>>> stage Prepare base model completed <<<<<<

x==============x]
[2024-06-03 13:50:24,299: INFO: stage_03_model_training: **********************]
[2024-06-03 13:50:24,300: INFO: stage_03_model_training: >>>>>> stage Training started <<<<<<]
[2024-06-03 13:50:24,307: INFO: common: yaml file: config/config.yaml loaded successfully]
[2024-06-03 13:50:24,311: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 13:50:24,311: INFO: common: created directory at: artifacts]
[2024-06-03 13:50:24,312: INFO: common: created directory at: artifacts/training]
[2024-06-03 13:51:18,323: INFO: stage_03_model_training: >>>>>> stage Training completed <<<<<<

x==============x]
[2024-06-03 13:51:25,338: INFO: stage_04_model_evaluation: **********************]
[2024-06-03 13:51:25,342: INFO: stage_04_model_evaluation: >>>>>> stage Evaluation stage started <<<<<<]
[2024-06-03 13:51:25,344: INFO: common: yaml file: config/config.yaml loaded successfully]
[2024-06-03 13:51:25,345: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 13:51:25,345: INFO: common: created directory at: artifacts]
[2024-06-03 13:51:33,969: INFO: common: json file saved at: scores.json]
[2024-06-03 13:51:36,233: INFO: builder_impl: Assets written to: /var/folders/71/pf___qm5465gbc0g8rslzwmw0000gp/T/tmp3edwb8si/model/data/model/assets]
[2024-06-03 13:51:36,524: ERROR: stage_04_model_evaluation: module 'tensorflow.keras' has no attribute '__version__']
Traceback (most recent call last):
  File "/Users/thuang/Documents/Personal/code/kidney-disease-classification-mlflow-dvc/src/cnnClassifier/pipeline/stage_04_model_evaluation.py", line 32, in <module>
    obj.main()
  File "/Users/thuang/Documents/Personal/code/kidney-disease-classification-mlflow-dvc/src/cnnClassifier/pipeline/stage_04_model_evaluation.py", line 24, in main
    evaluation.log_into_mlflow()
  File "/Users/thuang/Documents/Personal/code/kidney-disease-classification-mlflow-dvc/src/cnnClassifier/components/model_evaluation_mlflow.py", line 74, in log_into_mlflow
    mlflow.keras.log_model(self.model, "model", registered_model_name="VGG16Model")
  File "/Users/thuang/Documents/Personal/code/kidney-disease-classification-mlflow-dvc/venv/lib/python3.11/site-packages/mlflow/tensorflow/__init__.py", line 222, in log_model
    return Model.log(
           ^^^^^^^^^^
  File "/Users/thuang/Documents/Personal/code/kidney-disease-classification-mlflow-dvc/venv/lib/python3.11/site-packages/mlflow/models/model.py", line 551, in log
    flavor.save_model(path=local_path, mlflow_model=mlflow_model, **kwargs)
  File "/Users/thuang/Documents/Personal/code/kidney-disease-classification-mlflow-dvc/venv/lib/python3.11/site-packages/mlflow/tensorflow/__init__.py", line 445, in save_model
    "keras_version": keras_module.__version__,
                     ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'tensorflow.keras' has no attribute '__version__'
[2024-06-03 13:58:19,931: INFO: stage_04_model_evaluation: **********************]
[2024-06-03 13:58:19,933: INFO: stage_04_model_evaluation: >>>>>> stage Evaluation stage started <<<<<<]
[2024-06-03 13:58:19,934: INFO: common: yaml file: config/config.yaml loaded successfully]
[2024-06-03 13:58:19,935: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 13:58:19,935: INFO: common: created directory at: artifacts]
[2024-06-03 13:58:28,921: INFO: common: json file saved at: scores.json]
[2024-06-03 13:58:30,881: INFO: builder_impl: Assets written to: /var/folders/71/pf___qm5465gbc0g8rslzwmw0000gp/T/tmph3yfttet/model/data/model/assets]
[2024-06-03 13:58:54,140: INFO: stage_04_model_evaluation: >>>>>> stage Evaluation stage completed <<<<<<

x==============x]
[2024-06-03 14:14:05,676: INFO: stage_02_prepare_base_model: **************************]
[2024-06-03 14:14:05,676: INFO: stage_02_prepare_base_model: >>>>>> stage Prepare base model started <<<<<<]
[2024-06-03 14:14:05,678: INFO: common: yaml file: config/config.yaml loaded successfully]
[2024-06-03 14:14:05,678: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 14:14:05,679: INFO: common: created directory at: artifacts]
[2024-06-03 14:14:05,679: INFO: common: created directory at: artifacts/prepare_base_model]
[2024-06-03 14:14:05,959: WARNING: saving_utils: Compiled the loaded model, but the compiled metrics have yet to be built. `model.compile_metrics` will be empty until you train or evaluate the model.]
[2024-06-03 14:14:06,040: WARNING: optimizer: At this time, the v2.11+ optimizer `tf.keras.optimizers.SGD` runs slowly on M1/M2 Macs, please use the legacy Keras optimizer instead, located at `tf.keras.optimizers.legacy.SGD`.]
[2024-06-03 14:14:06,043: WARNING: __init__: There is a known slowdown when using v2.11+ Keras optimizers on M1/M2 Macs. Falling back to the legacy Keras optimizer, i.e., `tf.keras.optimizers.legacy.SGD`.]
[2024-06-03 14:14:06,087: INFO: stage_02_prepare_base_model: >>>>>> stage Prepare base model completed <<<<<<

x==============x]
[2024-06-03 14:14:09,911: INFO: stage_03_model_training: **********************]
[2024-06-03 14:14:09,911: INFO: stage_03_model_training: >>>>>> stage Training started <<<<<<]
[2024-06-03 14:14:09,912: INFO: common: yaml file: config/config.yaml loaded successfully]
[2024-06-03 14:14:09,913: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 14:14:09,913: INFO: common: created directory at: artifacts]
[2024-06-03 14:14:09,913: INFO: common: created directory at: artifacts/training]
[2024-06-03 14:15:03,204: INFO: stage_03_model_training: >>>>>> stage Training completed <<<<<<

x==============x]
[2024-06-03 14:15:08,043: INFO: stage_04_model_evaluation: **********************]
[2024-06-03 14:15:08,045: INFO: stage_04_model_evaluation: >>>>>> stage Evaluation stage started <<<<<<]
[2024-06-03 14:15:08,046: INFO: common: yaml file: config/config.yaml loaded successfully]
[2024-06-03 14:15:08,046: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 14:15:08,046: INFO: common: created directory at: artifacts]
[2024-06-03 14:15:16,821: INFO: common: json file saved at: scores.json]
[2024-06-03 14:15:18,684: INFO: builder_impl: Assets written to: /var/folders/71/pf___qm5465gbc0g8rslzwmw0000gp/T/tmpypg8kndq/model/data/model/assets]
[2024-06-03 14:15:44,490: INFO: stage_04_model_evaluation: >>>>>> stage Evaluation stage completed <<<<<<

x==============x]
[2024-06-03 21:25:40,073: INFO: _internal: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://192.168.0.54:8080]
[2024-06-03 21:25:40,079: INFO: _internal: [33mPress CTRL+C to quit[0m]
[2024-06-03 21:26:17,351: INFO: _internal: 127.0.0.1 - - [03/Jun/2024 21:26:17] "GET / HTTP/1.1" 200 -]
[2024-06-03 21:27:49,429: ERROR: app: Exception on /predict [POST]]
Traceback (most recent call last):
  File "D:\anaconda3\envs\kidney\lib\site-packages\flask\app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\anaconda3\envs\kidney\lib\site-packages\flask\app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\anaconda3\envs\kidney\lib\site-packages\flask_cors\extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
  File "D:\anaconda3\envs\kidney\lib\site-packages\flask\app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\anaconda3\envs\kidney\lib\site-packages\flask\app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "D:\anaconda3\envs\kidney\lib\site-packages\flask_cors\decorator.py", line 130, in wrapped_function
    resp = make_response(f(*args, **kwargs))
  File "app.py", line 41, in predictRoute
    result = clApp.classifier.predict()
  File "d:\pythonproject\kidney-disease-classification-mlflow-dvc\src\cnnClassifier\pipeline\prediction.py", line 13, in predict
    model = load_model(os.path.join("model", "model.h5"))
  File "D:\anaconda3\envs\kidney\lib\site-packages\keras\saving\saving_api.py", line 212, in load_model
    return legacy_sm_saving_lib.load_model(
  File "D:\anaconda3\envs\kidney\lib\site-packages\keras\utils\traceback_utils.py", line 70, in error_handler
    raise e.with_traceback(filtered_tb) from None
  File "D:\anaconda3\envs\kidney\lib\site-packages\keras\saving\legacy\save.py", line 230, in load_model
    raise IOError(
OSError: No file or directory found at model\model.h5
[2024-06-03 21:27:49,440: INFO: _internal: 127.0.0.1 - - [03/Jun/2024 21:27:49] "[35m[1mPOST /predict HTTP/1.1[0m" 500 -]
[2024-06-03 21:30:39,549: INFO: _internal: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://192.168.0.54:8080]
[2024-06-03 21:30:39,551: INFO: _internal: [33mPress CTRL+C to quit[0m]
[2024-06-03 21:30:44,558: INFO: _internal: 127.0.0.1 - - [03/Jun/2024 21:30:44] "GET / HTTP/1.1" 200 -]
[2024-06-03 21:30:55,590: INFO: _internal: 127.0.0.1 - - [03/Jun/2024 21:30:55] "POST /predict HTTP/1.1" 200 -]
[2024-06-03 21:31:17,799: INFO: _internal: 127.0.0.1 - - [03/Jun/2024 21:31:17] "POST /predict HTTP/1.1" 200 -]
[2024-06-03 21:31:55,821: INFO: _internal: 127.0.0.1 - - [03/Jun/2024 21:31:55] "POST /predict HTTP/1.1" 200 -]
[2024-06-03 21:32:07,940: INFO: _internal: 127.0.0.1 - - [03/Jun/2024 21:32:07] "POST /predict HTTP/1.1" 200 -]
[2024-06-03 21:32:26,255: WARNING: polymorphic_function: 5 out of the last 5 calls to <function Model.make_predict_function.<locals>.predict_function at 0x00000196DAE198B0> triggered tf.function retracing. Tracing is expensive and the excessive number of tracings could be due to (1) creating @tf.function repeatedly in a loop, (2) passing tensors with different shapes, (3) passing Python objects instead of tensors. For (1), please define your @tf.function outside of the loop. For (2), @tf.function has reduce_retracing=True option that can avoid unnecessary retracing. For (3), please refer to https://www.tensorflow.org/guide/function#controlling_retracing and https://www.tensorflow.org/api_docs/python/tf/function for  more details.]
[2024-06-03 21:32:26,261: INFO: _internal: 127.0.0.1 - - [03/Jun/2024 21:32:26] "POST /predict HTTP/1.1" 200 -]
